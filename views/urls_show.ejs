<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('partials/_meta_and_link') %>
    <title>URL Record - TinyApp</title>
  </head>
  <body>
    <%- include('partials/_header') %>
    <main>
    <div class="card text-center">
        <div class="card-body">
          <h5 class="card-title">TinyURL for <%= URLObject.longURL %></h5>
          <p class="card-text">Short URL: <a href="/u/<%= shortURL %>"><%= shortURL %></a></p>
          <p class="card-text"><a href="<%= fullLocalHref %>"><%= fullLocalHref %></a></p>
          <h5 class="card-title">Edit:</h5>
          <div class="d-flex justify-content-center">
            <form class="form-inline" method="POST" action = "/urls/<%= shortURL %>/update?_method=PUT">
              <input class="form-control m-2" style="width:300px" name="longURL" id="longURL" value="<%= URLObject.longURL %>">
              <button class="form-control m-2 button btn-primary" type="submit">Update</button>
            </form>
          </div>
        </div>
      </div>
    </main>
    <%- include('partials/_scripts') %>
    <script>
      //If user is editing, get the input field ready by focusing and putting the cursor to the end
      if (clientHelpers.urlParam('edit')) {
        clientHelpers.cursorToEndOfInput("#longURL");
      }
    </script>
  </body>
</html>